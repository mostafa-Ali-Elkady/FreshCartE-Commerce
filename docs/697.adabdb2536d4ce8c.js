"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[697],{697:(T,_,n)=>{n.r(_),n.d(_,{ProductsComponent:()=>P});var u=n(6895),p=n(2080),m=n(9427),i=n(433),t=n(1571),g=n(9531),h=n(910),C=n(2018);const v=function(s){return["/product-details",s]};function x(s,l){if(1&s){const o=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"a",7),t._UZ(3,"img",8),t.TgZ(4,"div",9)(5,"p",10),t._uU(6),t.qZA(),t.TgZ(7,"h5",11),t._uU(8),t.qZA(),t.TgZ(9,"div",12)(10,"span"),t._uU(11),t.qZA(),t.TgZ(12,"div"),t._UZ(13,"i",13),t.TgZ(14,"span"),t._uU(15),t.qZA()()()()(),t.TgZ(16,"button",14,15),t.NdJ("click",function(){const c=t.CHM(o).$implicit,d=t.MAs(17),a=t.oxw();return t.KtG(a.addToCart(c._id,d))}),t._uU(18," + Add TO Cart "),t.qZA(),t.TgZ(19,"i",16,17),t.NdJ("click",function(){const c=t.CHM(o).$implicit,d=t.MAs(20),a=t.oxw();return t.KtG(a.addToWishlist(c._id,d))}),t.qZA()()()}if(2&s){const o=l.$implicit;let e,r;t.xp6(2),t.Q6J("routerLink",t.VKq(6,v,o._id)),t.xp6(1),t.Q6J("src",null==o?null:o.imageCover,t.LSH),t.xp6(3),t.hij(" ",o.category.name," "),t.xp6(2),t.hij(" ",null==o||null==o.title||null==(e=o.title.split(" "))||null==(r=e.slice(0,2))?null:r.join(" ")," "),t.xp6(3),t.hij("",o.price," EGP"),t.xp6(4),t.Oqu(o.ratingsAverage)}}let P=(()=>{class s{constructor(o,e,r,c){this._productsService=o,this._CartService=e,this._ToastrService=r,this._Renderer2=c,this.allProducts=[],this.searchWord=""}ngOnInit(){this._productsService.getAllProducts().subscribe({next:o=>{this.allProducts=o.data}})}addToWishlist(o,e){this._CartService.addToWishlist(o).subscribe({next:r=>{console.log(r),this._ToastrService.success(r.message),this._Renderer2.setStyle(e,"color","red")}})}addToCart(o,e){this._Renderer2.setAttribute(e,"disabled","true"),this._CartService.addToCart(o).subscribe({next:r=>{console.log(r),this._ToastrService.success(r.message),this._CartService.cartNumber.next(r.numOfCartItems),this._Renderer2.removeAttribute(e,"disabled")},error:r=>{this._Renderer2.removeAttribute(e,"disabled")}})}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(g.R),t.Y36(h.N),t.Y36(C._W),t.Y36(t.Qsj))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-products"]],standalone:!0,features:[t.jDz],decls:7,vars:5,consts:[[1,"products"],[1,"text-center","my-5","heading","txt-color"],["type","text","placeholder","Search By Product Name",1,"form-control","mx-auto","my-4","rounded","txt-color","bg-color","searchInput",3,"ngModel","ngModelChange"],[1,"row","g-2","my-5"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-6 my-2","role","button",4,"ngFor","ngForOf"],["role","button",1,"col-xl-2","col-lg-3","col-md-4","col-sm-6","my-2"],[1,"product","position-relative"],[1,"txt-color","text-decoration-none",3,"routerLink"],["alt","product-image",1,"w-100",3,"src"],[1,"content","p-2"],[1,"text-main","fw-normnal","mt-3","txt-color","my-0"],[1,"txt-color","h6"],[1,"d-flex","justify-content-between","txt-color"],[1,"fa","fa-star","rating-color"],[1,"btn","bg-main","text-white",3,"click"],["addBtn",""],["role","a",1,"fa-solid","fa-heart","position-absolute","loveIcon",3,"click"],["addtowishlist",""]],template:function(o,e){1&o&&(t.TgZ(0,"section",0)(1,"h2",1),t._uU(2,"Shop With Our Products"),t.qZA(),t.TgZ(3,"input",2),t.NdJ("ngModelChange",function(c){return e.searchWord=c}),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,x,21,8,"div",4),t.ALo(6,"searchPipe"),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("ngModel",e.searchWord),t.xp6(2),t.Q6J("ngForOf",t.xi3(6,2,e.allProducts,e.searchWord)))},dependencies:[u.ez,u.sg,m.rH,i.u5,i.Fj,i.JJ,i.On,p.C],styles:[".searchInput[_ngcontent-%COMP%]{width:min(450px,100%)}.loveIcon[_ngcontent-%COMP%]{bottom:1rem;right:1rem;color:#303030;font-size:1.5rem;cursor:pointer;z-index:100}"]}),s})()}}]);