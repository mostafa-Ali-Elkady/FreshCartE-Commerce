"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[276],{4276:(v,_,o)=>{o.r(_),o.d(_,{WishlistComponent:()=>b});var l=o(6895),t=o(1571),h=o(910),u=o(2018);function m(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t._UZ(2,"img",10),t.qZA(),t.TgZ(3,"div",11)(4,"div",12)(5,"div",13)(6,"h4",14),t._uU(7),t.qZA(),t.TgZ(8,"p",15),t._uU(9," price:"),t.TgZ(10,"span",16),t._uU(11),t.qZA()(),t.TgZ(12,"button",17,18),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.MAs(13),a=t.oxw(2);return t.KtG(a.removeWishlistItem(c._id,d))}),t._UZ(14,"i",19),t.TgZ(15,"span"),t._uU(16,"Remove"),t.qZA()()(),t.TgZ(17,"div",20)(18,"button",21,22),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.MAs(19),a=t.oxw(2);return t.KtG(a.addtocart(c._id,d))}),t._uU(20," Add To cart "),t.qZA()()()(),t._UZ(21,"hr"),t.qZA()}if(2&i){const e=n.$implicit;t.xp6(2),t.Q6J("src",e.imageCover,t.LSH)("alt",e.title)("title",e.title),t.xp6(5),t.hij(" ",e.title.split(" ").slice(0,10).join(" ")," "),t.xp6(4),t.hij(" ",e.price,"")}}function p(i,n){if(1&i&&(t.TgZ(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),t._uU(4,"Wishlist products"),t._UZ(5,"i",6),t.qZA()()(),t.YNc(6,m,22,5,"div",7),t.qZA()),2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.wishlistProducts)}}function g(i,n){1&i&&(t.TgZ(0,"p",23),t._uU(1,"Your Cart Is Empty"),t.qZA())}let b=(()=>{class i{constructor(e,r,s){this._CartService=e,this._ToastrService=r,this._Renderer2=s,this.wishlist=null,this.wishlistId="",this.wishlistProducts=[]}ngOnInit(){this._CartService.getUserWishlist().subscribe({next:e=>{this.wishlistProducts=e.data,console.log(this.wishlistProducts)}})}removeWishlistItem(e,r){this._Renderer2.setAttribute(r,"disabled","true"),this._CartService.removeWishlistItem(e).subscribe({next:s=>{console.log(s),this._ToastrService.success(s.message),this._Renderer2.removeAttribute(r,"disabled"),this.wishlistProducts=s.data,console.log("delete",this.wishlistProducts),this._CartService.getUserWishlist().subscribe({next:c=>{this.wishlistProducts=c.data,console.log(this.wishlistProducts)}})},error:s=>{this._Renderer2.removeAttribute(r,"disabled")}})}addtocart(e,r){this._Renderer2.setAttribute(r,"disabled","true"),this._CartService.addToCart(e).subscribe({next:s=>{console.log(s),this._ToastrService.success(s.message),this._CartService.cartNumber.next(s.numOfCartItems),this._Renderer2.removeAttribute(r,"disabled")},error:s=>{this._Renderer2.removeAttribute(r,"disabled")}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.N),t.Y36(u._W),t.Y36(t.Qsj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["class","p-3 shadow rounded my-5 bg-color",4,"ngIf","ngIfElse"],["message",""],[1,"p-3","shadow","rounded","my-5","bg-color"],[1,"d-flex","justify-content-between","align-items-center"],[1,"main-title"],[1,"txt-color"],[1,"fa","fa-heart","text-danger"],["class","row justify-content-between",4,"ngFor","ngForOf"],[1,"row","justify-content-between"],[1,"col-md-1"],[1,"w-100",3,"src","alt","title"],[1,"col-md-11","my-3","my-md-0","py-3"],[1,"row","justify-content-between","align-items-center"],[1,"col-10","mb-3"],[1,"txt-color","h5"],[1,"text-main","fw-bold"],[1,"text-white","bg-main","p-1","fw-bold","rounded"],[1,"btn","btn-danger","fw-bold","rounded","p-2",3,"click"],["removeBtn",""],[1,"fa","fa-trash","text-main","mx-2"],[1,"col-2"],[1,"btn","btn-sm","btn-primary","fw-bold",3,"click"],["btn1",""],[1,"p-5","fs-3","text-center","fw-bold","txt-color"]],template:function(e,r){if(1&e&&(t.YNc(0,p,7,1,"section",0),t.YNc(1,g,2,0,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",r.wishlistProducts)("ngIfElse",s)}},dependencies:[l.ez,l.sg,l.O5]}),i})()}}]);